(this["webpackJsonpdynamic-tic-tac-toe"]=this["webpackJsonpdynamic-tic-tac-toe"]||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(4),i=n.n(a),l=(n(12),n(6)),u=n(2),s=n(5),j=n.n(s),o=n(18),b=(n(15),n(0)),d=function(){return Object(b.jsxs)("div",{className:"instruction shadow",children:[Object(b.jsx)("b",{children:"Instruction"}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{style:{textIndent:20},children:["You can set the table into any ",Object(b.jsx)("b",{children:"size"})," you want and you can also set the",Object(b.jsx)("b",{children:"rule"})," (consecutive X to win) of the game."]})]})},O=function(e){var t=e.boardSize,n=e.handleGameStart,r=e.gameStart,a=e.handleGameReset,i=e.replaying,l=Object(c.useState)(t),s=Object(u.a)(l,2),j=s[0],o=s[1],d=Object(c.useState)(t),O=Object(u.a)(d,2),f=O[0],h=O[1],v=Object(c.useRef)(),x=Object(c.useRef)();return Object(b.jsxs)("div",{className:"setting",children:[Object(b.jsx)("b",{children:"Board Size"})," ",Object(b.jsx)("input",{type:"number",min:3,value:j,ref:function(e){return v=e},onChange:function(){o(v.value),h(3),f>+v.value&&h(+v.value)},disabled:r}),Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Consecutive X to Win"})," ",Object(b.jsx)("input",{type:"number",min:3,max:j,value:f,ref:function(e){return x=e},onChange:function(){return h(+x.value)},disabled:r}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"start-btn",onClick:function(){return n(+v.value,+x.value)},disabled:r,children:"Start"}),Object(b.jsx)("button",{className:"reset-btn",onClick:a,disabled:i,children:"Reset"})]})},f=function(e){var t=e.col,n=e.rowId,r=e.onClick,a=e.table;return Object(b.jsx)(c.Fragment,{children:Object(b.jsx)("tr",{children:Array(+t).fill(null).map((function(e,t){return Object(b.jsx)("td",{className:"cell",row:n,col:t,onClick:function(){return r(n,t)},children:a&&a[n][t]},Object(o.a)())}))})})},h=function(e){var t=e.boardSize,n=e.handleCellClick,c=e.table;return Object(b.jsx)("div",{className:"game-board",children:Object(b.jsx)("table",{children:Object(b.jsx)("tbody",{children:Array(+t).fill(null).map((function(e,r){return Object(b.jsx)(f,{col:t,rowId:r,onClick:n,table:c},Object(o.a)())}))})})})},v=function(e){var t=e.historyObj,n=e.onClick,c=e.currentTurnId,r=t.turnId,a=t.turn,i=t.row,l=t.col;return Object(b.jsxs)("li",{className:"history-list",onClick:function(){return n(t)},style:{color:c===r?"red":"black"},children:[r.slice(0,3),"->",a,": ","(".concat(i,", ").concat(l,")")]})},x=function(e){var t=e.onClick;return Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:t,children:"Replay"})})},p=function(e){var t=e.history,n=e.handleRewind,c=e.turnId,r=e.setReplaying,a=Object.keys(t);return Object(b.jsxs)("div",{className:"history",children:[Object(b.jsx)("b",{children:"History"}),Object(b.jsx)(x,{onClick:function(){return function(e){for(var c=function(c){r(!0),setTimeout((function(){n(t[a[c]]),c===a.length-1&&r(!1)}),c*e)},i=0;i<a.length;i++)c(i)}(500)}}),Object(b.jsx)("ul",{children:a.map((function(e){return Object(b.jsx)(v,{historyObj:t[e],onClick:n,currentTurnId:c},e)}))})]})},m=function(e,t){if(!e)return null;for(var n=e.length,c=+t>n?n:+t,r=0;r<n;r++)for(var a=0;a+c-1<n;a++){for(var i=a,l=i+c-1,u=!0,s=i;s<=l&&(null===e[r][s]&&(u=!1),e[r][s]!==e[r][i]&&(u=!1),u);s++);if(u)return"X"===e[r][i]?"p1":"p2"}for(var j=0;j<n;j++)for(var o=0;o+c-1<n;o++){for(var b=o,d=b+c-1,O=!0,f=b;f<=d&&(null===e[f][j]&&(O=!1),e[f][j]!==e[b][j]&&(O=!1),O);f++);if(O)return"X"===e[b][j]?"p1":"p2"}for(var h=0;h<n;h++)for(var v=0;v<n;v++){for(var x=h,p=v,m=h,y=v,S=void 0,g=!((S=h+c-1)>=n);m<=S&&S<n&&(null===e[m][y]&&(g=!1),e[m][y]!==e[x][p]&&(g=!1),g);)m++,y++;if(g)return"X"===e[x][p]?"p1":"p2";for(m=h,y=v,g=!((S=h-(c-1))<0);m>=S&&S>=0&&(null===e[m][y]&&(g=!1),e[m][y]!==e[x][p]&&(g=!1),g);)m--,y++;if(g)return"X"===e[x][p]?"p1":"p2"}return null},y=function(e){var t=e.turn,n=e.winner;return Object(b.jsxs)("div",{className:"info",children:[Object(b.jsxs)("div",{children:["Next Turn: ",t.toUpperCase()]}),n&&("tie"===n?Object(b.jsx)("div",{children:"TIE"}):Object(b.jsxs)("div",{children:["Result: ",n.toUpperCase()," won!!!"]}))]})};var S=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(3),i=Object(u.a)(a,2),s=i[0],f=i[1],v=Object(c.useState)("p1"),x=Object(u.a)(v,2),S=x[0],g=x[1],C=Object(c.useState)(null),k=Object(u.a)(C,2),w=k[0],I=k[1],N=Object(c.useState)({}),R=Object(u.a)(N,2),T=R[0],z=R[1],X=Object(c.useState)(null),A=Object(u.a)(X,2),F=A[0],G=A[1],B=Object(c.useState)(null),D=Object(u.a)(B,2),E=D[0],J=D[1],L=Object(c.useState)(0),P=Object(u.a)(L,2),U=P[0],q=P[1],H=Object(c.useState)(null),M=Object(u.a)(H,2),W=M[0],Y=M[1],K=Object(c.useState)(!1),Q=Object(u.a)(K,2),V=Q[0],Z=Q[1],$=Object(c.useState)(3),_=Object(u.a)($,2),ee=_[0],te=_[1],ne=Object(c.useState)(!1),ce=Object(u.a)(ne,2),re=ce[0],ae=ce[1];return Object(c.useEffect)((function(){var e=m(w,ee);if(Y(e),e)return Z(!0);U===s*s&&E===F&&Y("tie")}),[w,s,U,ee,E,F]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"Dynamic Tic Tac Toe"}),Object(b.jsx)(d,{boardSize:s}),Object(b.jsxs)("div",{className:"game-body shadow",children:[Object(b.jsxs)("div",{className:"game-body-left",children:[Object(b.jsx)(O,{boardSize:s,handleGameStart:function(e,t){f(e),r(!0),te(t);var n=Array(e).fill(null);n=n.map((function(t){return Array(e).fill(null)})),I(n)},gameStart:n,handleGameReset:function(){r(!1),I(null),z({}),J(null),G(null),q(0),Y(null),g("p1"),Z(!1),ae(!1)},replaying:re}),Object(b.jsx)(y,{turn:S,winner:W,square:U}),Object(b.jsx)(h,{boardSize:s,handleCellClick:function(e,t){if(n&&E===F&&!V&&null==w[e][t]){var c="p1"===S?"X":"O",r=j.a.cloneDeep(w);r[e][t]=c,I(r);var a=Object(l.a)({},T),i=Object(o.a)();a[i]={turn:S,row:e,col:t,table:r,turnId:i},z(a),G(i),J(i),q((function(e){return e+1})),g((function(e){return"p1"===e?"p2":"p1"}))}},table:w})]}),Object(b.jsx)("div",{className:"game-body-right",children:Object(b.jsx)(p,{turn:S,history:T,handleRewind:function(e){var t=e.table,n=e.turn,c=e.turnId;I(t),g("p1"===n?"p2":"p1"),J(c)},turnId:E,setReplaying:ae})})]})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),g()}},[[17,1,2]]]);
//# sourceMappingURL=main.6738d085.chunk.js.map